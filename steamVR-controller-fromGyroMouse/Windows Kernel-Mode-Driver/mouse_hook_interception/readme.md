#compile:

# Gyro Mouse to VR Controller

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –≥–∏—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–æ–π –º—ã—à–∏ –≤ VR –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è SteamVR.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mouse_hook_interception/
‚îú‚îÄ‚îÄ mouse_hook.cpp           # –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
‚îú‚îÄ‚îÄ CMakeLists.txt          # –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ readme.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ INTERCEPTION_GUIDE.md   # –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îú‚îÄ‚îÄ Interception/           # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Interception
‚îÇ   ‚îú‚îÄ‚îÄ command line installer/
‚îÇ   ‚îú‚îÄ‚îÄ library/
‚îÇ   ‚îî‚îÄ‚îÄ samples/
‚îî‚îÄ‚îÄ build/                  # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ)
```

## ‚ú® –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞

1. **–ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç** —Å–æ–±—ã—Ç–∏—è –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥–∏—Ä–æ-–º—ã—à–∏ —á–µ—Ä–µ–∑ Interception Driver
2. **–ë–ª–æ–∫–∏—Ä—É–µ—Ç** —ç—Ç—É –º—ã—à—å –æ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–æ—Ä–æ–º Windows
3. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** –¥–∞–Ω–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏ –ø–æ UDP –Ω–∞ –ø–æ—Ä—Ç 5556
4. **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç** –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º—ã—à–∏ —Ä–∞–±–æ—Ç–∞—é—â–∏–º–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç:** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º—ã—à–∏
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç:** –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ UDP
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- üöß **TODO:** SteamVR –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è UDP –¥–∞–Ω–Ω—ã—Ö
- üöß **TODO:** –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üîß –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä Interception

```cmd
# CMD –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
bcdedit /set testsigning on
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

cd Interception/command\ line\ installer
install-interception.exe /install
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
```

### 2. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É

```bash
mkdir build && cd build
cmake .. -G "MinGW Makefiles"
cmake --build .
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å

```bash
# –û—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!
./mouse_hook.exe
```

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [INTERCEPTION_GUIDE.md](INTERCEPTION_GUIDE.md) –¥–ª—è:
- –î–µ—Ç–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
- –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SteamVR

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UDP

**–¢–µ—Ä–º–∏–Ω–∞–ª 1:** –ó–∞–ø—É—Å—Ç–∏—Ç—å `mouse_hook.exe`

**–¢–µ—Ä–º–∏–Ω–∞–ª 2:** –°–ª—É—à–∞—Ç—å UDP
```bash
# Python
python -c "import socket; s=socket.socket(socket.AF_INET, socket.SOCK_DGRAM); s.bind(('127.0.0.1', 5556)); print('Listening...'); [print(s.recvfrom(1024)[0].decode()) for _ in iter(int, 1)]"
```

–ü–æ–¥–≤–∏–≥–∞–π—Ç–µ –≥–∏—Ä–æ-–º—ã—à—å—é ‚Üí —É–≤–∏–¥–∏—Ç–µ:
```
MOUSE:5,-3,0,1234567890
MOUSE:-2,8,0,1234567891
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to create Interception context"

```cmd
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä
sc query interception
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: STATE: 4 RUNNING
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Must be run as Administrator"

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ö—É—Ä—Å–æ—Ä –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–≤–∏–≥–∞–µ—Ç—Å—è

- –£–¥–∞–ª–∏—Ç–µ `mouse_config.txt`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –º—ã—à—å –ø–æ VID/PID

## üìä –§–æ—Ä–º–∞—Ç UDP –ø–∞–∫–µ—Ç–æ–≤

```
MOUSE:deltaX,deltaY,buttons,timestamp
```

–ì–¥–µ:
- `deltaX, deltaY` - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –º—ã—à–∏
- `buttons` - 0=–Ω–µ—Ç, 1=–ª–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞, 2=–ø—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞
- `timestamp` - GetTickCount64()

## üõ† –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°–æ–∑–¥–∞—Ç—å SteamVR driver** –¥–ª—è –ø—Ä–∏—ë–º–∞ UDP –¥–∞–Ω–Ω—ã—Ö
2. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –º—ã—à–∏** –≤ –ø–æ–∑–∏—Ü–∏—é/–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
3. **–î–æ–±–∞–≤–∏—Ç—å –∫–∞–ª–∏–±—Ä–æ–≤–∫—É** (—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, dead zone)
4. **–°–æ–∑–¥–∞—Ç—å GUI** –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## üìù –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Windows 10/11 (64-bit)
- –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- CMake 3.10+
- MinGW-w64 –∏–ª–∏ MSVC
- Interception Driver

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–æ–µ–∫—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

- Interception: LGPL 3.0 (—Å–º. Interception/licenses/)
- –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç: MIT License

---

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Interception driver –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏. –°–º. `Interception/licenses/commercial-usage/`.

rm -f build/
mkdir build
cd build
cmake .. -G "Visual Studio 17 2022" -A x64
cmake --build . --config Release

